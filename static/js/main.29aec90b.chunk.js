(this.webpackJsonpd20organizer=this.webpackJsonpd20organizer||[]).push([[0],{25:function(e,a,t){e.exports=t(37)},35:function(e,a,t){},37:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),r=t(12),s=t.n(r),l=t(10),i=t(6),m=(t(34),t(35),t(8)),u=t(15),o=t(7),f=function(e){return(e>0?"+":"")+e},d={attack:{string:"ATK",getter:f},ac:{string:"AC",getter:function(e){return e}},damage:{string:"DMG",getter:f}},_=function(e){var a=e.items,t=e.selected,c=e.keyProp,r=void 0===c?"code":c,s=e.nameGetter,l=e.descriptionGetter,i=e.onItemClick;return n.a.createElement("div",{className:"multiselect"},n.a.createElement("div",{className:"multiselect__wrapper"},a.map((function(e){var a="fa "+(-1!==t.indexOf(e[r])?"fa-square":"fa-square-o");return n.a.createElement("div",{className:"multiselect__item {isSelected ? 'multiselect__item--selected' : ''}",onClick:function(){i(e)},key:e[r]},n.a.createElement("div",{className:"multiselect__item-icon"},n.a.createElement("i",{className:a})),n.a.createElement("div",{className:"multiselect__item-name"},s(e)),n.a.createElement("div",{className:"multiselect__item-description"},l(e)))}))))},b={currentCharacterUpdated:function(e){return{type:"CURRENT_CHARACTER_UPDATED",payload:e}},currentCharacterBuffToggle:function(e){return{type:"CURRENT_CHARACTER_BUFF_TOGGLE",payload:e}}},v=Object(l.b)((function(e){return{buffs:e.buffs,currentCharacter:e.currentCharacter,currentResult:e.currentResult}}),b)((function(e){var a=e.buffs,t=e.currentCharacter,c=e.currentResult,r=e.currentCharacterUpdated,s=e.currentCharacterBuffToggle,l=function(e){return function(a){var c=a.target.value.replace(/[^\d.-]/g,"");if("-"!==c&&"0-"!==c){var n=Object(o.a)({},t,{stats:Object(o.a)({},t.stats,Object(u.a)({},e,+c))});r(n)}}};return n.a.createElement("div",{className:"page"},n.a.createElement("div",{className:"page__wrapper"},n.a.createElement("div",{className:"page__title"},"Calculator"),n.a.createElement("div",{className:"page__section"},n.a.createElement("div",{className:"charedit"},n.a.createElement("div",{className:"charedit__title"},t.name),n.a.createElement("div",{className:"charedit__stats"},Object.keys(t.stats).map((function(e){var a="charedit__stats-bonus ";return c&&c.delta&&(c.delta[e]>0?a+="charedit__stats-bonus--positive":c.delta[e]<0&&(a+="charedit__stats-bonus--negative")),n.a.createElement("div",{className:"charedit__stats-item",key:e},n.a.createElement("div",{className:"charedit__stats-label"},d[e].string,":"),n.a.createElement("div",{className:"charedit__stats-content"},n.a.createElement("div",{className:"charedit__stats-rawval"},n.a.createElement("input",{value:t.stats[e],onChange:l(e),type:"text"})),c.delta&&n.a.createElement("div",{className:a},c.delta?d[e].getter(c.delta[e]):""),n.a.createElement("div",{className:"charedit__stats-result"},c.stats?d[e].getter(c.stats[e]):"")))}))))),n.a.createElement("div",{className:"page__section page__section--grower page__section--nopadding"},n.a.createElement(_,{items:a,selected:t.buffs,keyProp:"code",nameGetter:function(e){return e.name},descriptionGetter:function(e){return Object.keys(e.bonuses).filter((function(a){return e.bonuses[a]})).map((function(a){return d[a].string+": "+d[a].getter(e.bonuses[a])})).join(", ")},onItemClick:function(e){s(e.code)}}))))})),E=function(e){var a=e.buff;return n.a.createElement("div",{className:"buff-item"},n.a.createElement("div",{className:"buff-item__wrapper"},n.a.createElement("div",{className:"buff-item__header"},n.a.createElement("div",{className:"buff-item__title"},a.name),n.a.createElement("div",{className:"buff-item__actions"},n.a.createElement("div",{className:"buff-item__action buff-item__action--delete"},n.a.createElement("i",{className:"fa fa-trash"})),n.a.createElement("div",{className:"buff-item__action buff-item__action--edit"},n.a.createElement("i",{className:"fa fa-pencil"})))),n.a.createElement("div",{className:"buff-item__content"},n.a.createElement("div",{className:"buff-item__stat-list"},Object.keys(d).map((function(e){var t=a.bonuses?a.bonuses[e]:null,c=a.multipliers?a.multipliers[e]:null,r=!!t&&f(t)||c||!1||null,s="buff-item__stat ";return t>0||c>1?s+="buff-item__stat--positive":(t<0||c>0&&c<1)&&(s+="buff-item__stat--negative"),t||c?n.a.createElement("div",{className:s,key:e},n.a.createElement("div",{className:"buff-item__stat-label"},d[e].string,":"),n.a.createElement("div",{className:"buff-item__stat-value"},r||null)):null}))))))},p=Object(l.b)((function(e){return{buffs:e.buffs}}),{})((function(e){var a=e.buffs;return n.a.createElement("div",null,a.map((function(e){return n.a.createElement(E,{key:e.name,buff:e})})))})),g=function(){return n.a.createElement("div",{className:"page"},n.a.createElement("div",{className:"page__wrapper"},n.a.createElement("div",{className:"page__title"},n.a.createElement("div",null,"Buffs page")),n.a.createElement("div",{className:"page__section page__section--grower"},n.a.createElement(p,null))))},N=function(){return n.a.createElement("div",{className:"page"},n.a.createElement("div",{className:"page__wrapper"},n.a.createElement("div",{className:"page__title"},"d20organizer"),n.a.createElement("div",{className:"page__section"},n.a.createElement("div",{className:"home"},n.a.createElement("div",{className:"home__page-list"},n.a.createElement("div",{className:"home__page-item"},n.a.createElement(i.b,{className:"home__page-link",to:"/buffs"},"Calculator")),n.a.createElement("div",{className:"home__page-item"},n.a.createElement(i.b,{className:"home__page-link",to:"/buffs"},"Buff catalog")))))))},h=function(){return n.a.createElement("div",{className:"navbar"},n.a.createElement("div",{className:"navbar__list"},n.a.createElement(i.b,{to:"/calculator",className:"navbar__item",activeClassName:"navbar__item--active"},n.a.createElement("i",{className:"fa fa-calculator"})),n.a.createElement(i.b,{to:"/buffs",className:"navbar__item",activeClassName:"navbar__item--active"},n.a.createElement("i",{className:"fa fa-list"}))))},C=function(){return n.a.createElement("div",{className:"app"},n.a.createElement("div",{className:"app__header"}),n.a.createElement("div",{className:"app__body"},n.a.createElement("div",{className:"app__content"},n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/",component:N,exact:!0}),n.a.createElement(m.a,{path:"/calculator",component:v}),n.a.createElement(m.a,{path:"/buffs",component:g})))),n.a.createElement("div",{className:"app__footer"},n.a.createElement("div",{className:"app__navbar"},n.a.createElement(h,null))))},k=t(14),y=t(24),O=function(e,a){var t={};return Object.keys(e).forEach((function(c){t[c]=e[c],a.forEach((function(e){e.bonuses&&e.bonuses[c]&&(t[c]+=e.bonuses[c])}))})),t},R=function(e,a){var t={};return Object.keys(a).forEach((function(c){t[c]=a[c]-e[c]})),t},j=function(e,a){var t=a.filter((function(a){return-1!==e.buffs.indexOf(a.code)}));return{stats:O(e.stats,t),delta:R(e.stats,O(e.stats,t))}},T={buffs:[{code:"bigger",name:"Bigger size",bonuses:{ac:-2,attack:0,damage:1}},{code:"rage",name:"Rage",bonuses:{ac:-2,attack:2,damage:2}},{code:"fatigued",name:"Fatigued",bonuses:{ac:-1,attack:1,damage:1}},{code:"stonestrike",name:"Stone strike",bonuses:{attack:1,damage:1}},{code:"fightdefencively",name:"Fighting defencively",bonuses:{ac:2,attack:-4}},{code:"defencivestance",name:"Defencive Stance",bonuses:{ac:2,attack:2,damage:2}}],currentCharacter:{name:"Skyor",stats:{ac:31,attack:12,damage:3},buffs:[]},currentResult:{}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"BUFFS_LOADED":return Object(o.a)({},e,{books:a.payload});case"CURRENT_CHARACTER_UPDATED":return Object(o.a)({},e,{currentCharacter:a.payload,currentResult:j(a.payload,e.buffs)});case"CURRENT_CHARACTER_BUFF_TOGGLE":var t;return t=-1!==e.currentCharacter.buffs.indexOf(a.payload)?e.currentCharacter.buffs.filter((function(e){return e!==a.payload})):[].concat(Object(y.a)(e.currentCharacter.buffs),[a.payload]),Object(o.a)({},e,{currentCharacter:Object(o.a)({},e.currentCharacter,{buffs:t}),currentResult:j(Object(o.a)({},e.currentCharacter,{buffs:t}),e.buffs)});default:return e}return e},w=Object(k.b)(A);s.a.render(n.a.createElement(l.a,{store:w},n.a.createElement(i.a,{basename:"/d20organizer"},n.a.createElement(C,null))),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.29aec90b.chunk.js.map