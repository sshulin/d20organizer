(this.webpackJsonpd20organizer=this.webpackJsonpd20organizer||[]).push([[0],{28:function(e,a,t){e.exports=t(40)},38:function(e,a,t){},40:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(15),s=t.n(r),l=t(6),u=t(8),i=(t(37),t(38),t(9)),f=t(10),m=t(2),o=[{code:"bigger",name:"Bigger size",bonuses:{ac:-2,damage:1}},{code:"rage",name:"Rage",bonuses:{ac:-2,attack:2,damage:2}},{code:"fatigued",name:"Fatigued",bonuses:{ac:-1,attack:-1,damage:-1}},{code:"stonestrike",name:"Stone strike",bonuses:{attack:1,damage:1}},{code:"fightdefencively",name:"Fighting defencively",bonuses:{ac:2,attack:-4}},{code:"defencivestance",name:"Defencive Stance",bonuses:{ac:2,attack:2,damage:2}}],d=function(){return function(e,a){a().buffs.loaded||e((function(e){var a;e({type:"BUFFS_REQUESTED",payload:a}),t=o,e({type:"BUFFS_LOADED",payload:t});var t}))}},_=function(e){return(e>0?"+":"")+e},b={attack:{string:"ATK",getter:_},ac:{string:"AC",getter:function(e){return e}},damage:{string:"DMG",getter:_}},E=function(e){var a=e.items,t=e.selected,n=e.keyProp,r=void 0===n?"code":n,s=e.nameGetter,l=e.descriptionGetter,u=e.onItemClick;return c.a.createElement("div",{className:"multiselect"},c.a.createElement("div",{className:"multiselect__wrapper"},a.map((function(e){var a="fa "+(-1!==t.indexOf(e[r])?"fa-square":"fa-square-o");return c.a.createElement("div",{className:"multiselect__item {isSelected ? 'multiselect__item--selected' : ''}",onClick:function(){u(e)},key:e[r]},c.a.createElement("div",{className:"multiselect__item-icon"},c.a.createElement("i",{className:a})),c.a.createElement("div",{className:"multiselect__item-name"},s(e)),c.a.createElement("div",{className:"multiselect__item-description"},l(e)))}))))},p=function(e){var a=e.value,t=e.onChange;return c.a.createElement("div",{className:"penned-string"},c.a.createElement("label",{className:"penned-string__wrapper"},c.a.createElement("input",{type:"text",className:"penned-string__input",value:a,onChange:t}),c.a.createElement("div",{className:"penned-string__text"},a,c.a.createElement("i",{className:"fa fa-pencil"}))))},v={currentCharacterUpdated:function(e){return{type:"CURRENT_CHARACTER_UPDATED",payload:e}},currentCharacterBuffToggle:function(e){return{type:"CURRENT_CHARACTER_BUFF_TOGGLE",payload:e}},smartFetchBuffs:d},N=Object(l.b)((function(e){return{buffs:e.buffs,currentCharacter:e.currentCharacter,currentResult:e.currentResult}}),v)((function(e){var a=e.buffs,t=e.currentCharacter,r=e.currentResult,s=e.currentCharacterUpdated,l=e.currentCharacterBuffToggle,u=e.smartFetchBuffs;Object(n.useEffect)((function(){u()}),[u]);var i=function(e){return function(a){var n=a.target.value.replace(/[^\d.-]/g,"");if("-"!==n&&"0-"!==n){var c=Object(m.a)({},t,{stats:Object(m.a)({},t.stats,Object(f.a)({},e,+n))});s(c)}}};return c.a.createElement("div",{className:"page"},c.a.createElement("div",{className:"page__wrapper"},c.a.createElement("div",{className:"page__title"},"Calculator"),c.a.createElement("div",{className:"page__section"},c.a.createElement("div",{className:"charedit"},c.a.createElement("div",{className:"charedit__title"},c.a.createElement(p,{value:t.name,onChange:function(e){var a=e.target.value;s(Object(m.a)({},t,{name:a}))}})),c.a.createElement("div",{className:"charedit__stats"},Object.keys(t.stats).map((function(e){var a="charedit__stats-bonus ";return r&&r.delta&&(r.delta[e]>0?a+="charedit__stats-bonus--positive":r.delta[e]<0&&(a+="charedit__stats-bonus--negative")),c.a.createElement("div",{className:"charedit__stats-item",key:e},c.a.createElement("div",{className:"charedit__stats-label"},b[e].string,":"),c.a.createElement("div",{className:"charedit__stats-content"},c.a.createElement("div",{className:"charedit__stats-rawval"},c.a.createElement("input",{value:t.stats[e],onChange:i(e),type:"text"})),r.delta&&c.a.createElement("div",{className:a},r.delta?b[e].getter(r.delta[e]):""),c.a.createElement("div",{className:"charedit__stats-result"},r.stats?b[e].getter(r.stats[e]):"")))}))))),c.a.createElement("div",{className:"page__section page__section--grower page__section--nopadding"},c.a.createElement(E,{items:a.data,selected:t.buffs,keyProp:"code",nameGetter:function(e){return e.name},descriptionGetter:function(e){return Object.keys(e.bonuses).filter((function(a){return e.bonuses[a]})).map((function(a){return b[a].string+": "+b[a].getter(e.bonuses[a])})).join(", ")},onItemClick:function(e){l(e.code)}}))))})),g=function(e){var a=e.buff,t=e.onDelete,n=e.onEdit;return c.a.createElement("div",{className:"buff-item"},c.a.createElement("div",{className:"buff-item__wrapper"},c.a.createElement("div",{className:"buff-item__header"},c.a.createElement("div",{className:"buff-item__title"},a.name),c.a.createElement("div",{className:"buff-item__actions"},c.a.createElement("div",{className:"buff-item__action buff-item__action--delete",onClick:function(){t(a)}},c.a.createElement("i",{className:"fa fa-trash"})),c.a.createElement("div",{className:"buff-item__action buff-item__action--edit",onClick:function(){n(a)}},c.a.createElement("i",{className:"fa fa-pencil"})))),c.a.createElement("div",{className:"buff-item__content"},c.a.createElement("div",{className:"buff-item__stat-list"},Object.keys(b).map((function(e){var t=a.bonuses?a.bonuses[e]:null,n=a.multipliers?a.multipliers[e]:null,r=!!t&&_(t)||n||!1||null,s="buff-item__stat ";return t>0||n>1?s+="buff-item__stat--positive":(t<0||n>0&&n<1)&&(s+="buff-item__stat--negative"),t||n?c.a.createElement("div",{className:s,key:e},c.a.createElement("div",{className:"buff-item__stat-label"},b[e].string,":"),c.a.createElement("div",{className:"buff-item__stat-value"},r||null)):null}))))))},h={buffDeleted:function(e){return{type:"BUFF_DELETED",payload:e}},buffSelected:function(e){return{type:"BUFF_SELECTED",payload:e}}},C=Object(l.b)((function(e){return{buffs:e.buffs}}),h)((function(e){var a=e.buffs,t=e.buffDeleted,n=e.buffSelected,r=function(e){t(e.code)},s=function(e){n(e.code)};return c.a.createElement("div",null,a.data.map((function(e){return c.a.createElement(g,{key:e.name,buff:e,onDelete:r,onEdit:s})})))})),y=t(27),O=t(26),j=function(e,a){e[a];return Object(y.a)(e,[a].map(O.a))},B={currentBuffUpdated:function(e){return{type:"CURRENT_BUFF_UPDATED",payload:e}},currentBuffSaved:function(e){return{type:"CURRENT_BUFF_SAVED",payload:e}},currentBuffCreated:function(e){return{type:"CURRENT_BUFF_CREATED",payload:e}}},F=Object(l.b)((function(e){return{buff:e.currentBuff}}),B)((function(e){var a=e.buff,t=e.currentBuffUpdated,n=e.currentBuffSaved,r=e.currentBuffCreated,s=function(e,t){return"bonus"===t?function(e){return a.bonuses&&a.bonuses.hasOwnProperty(e)}(e):"multiplier"===t&&function(e){return a.multiplier&&a.multiplier.hasOwnProperty(e)}(e)};return c.a.createElement("div",{className:"buff-form"},c.a.createElement("div",{className:"buff-form__wrapper"},c.a.createElement("div",{className:"buff-form__header"},c.a.createElement("div",{className:"buff-form__title"},c.a.createElement(p,{value:a.name,onChange:function(e){var n=e.target.value;t(Object(m.a)({},a,{name:n}))}})),c.a.createElement("div",{className:"buff-form__actions"},c.a.createElement("div",{className:"buff-form__action buff-form__action--cancel",onClick:function(){t(null)}},c.a.createElement("i",{className:"fa fa-close"})),c.a.createElement("div",{className:"buff-form__action buff-form__action--save",onClick:function(){a.code?n(a):r(Object(m.a)({},a,{code:a.name.replace(" ","_").toLowerCase()}))}},c.a.createElement("i",{className:"fa fa-save"})))),c.a.createElement("div",{className:"buff-form__content"},c.a.createElement("div",{className:"buff-form__subtitle"},"Plain bonuses"),c.a.createElement("div",{className:"buff-form__props"},c.a.createElement("div",{className:"chips"},c.a.createElement("div",{className:"chips__list"},Object.keys(b).map((function(e){var n="chips__item "+(s(e,"bonus")?"chips__item--active":"");return c.a.createElement("div",{className:n,key:e,onClick:function(){return function(e){a.bonuses.hasOwnProperty(e)?t(Object(m.a)({},a,{bonuses:j(a.bonuses,e)})):t(Object(m.a)({},a,{bonuses:Object(m.a)({},a.bonuses,Object(f.a)({},e,0))}))}(e)}},b[e].string)}))))),c.a.createElement("div",{className:"buff-form__field-list"},Object.keys(b).filter((function(e){return a.bonuses.hasOwnProperty(e)})).map((function(e){return c.a.createElement("div",{className:"buff-form__field-item",key:e},c.a.createElement("div",{className:"buff-form__field-label"},b[e].string,":"),c.a.createElement("div",{className:"buff-form__field-content"},c.a.createElement("input",{type:"text",className:"buff-form__field-input",value:a.bonuses[e],onChange:function(n){var c=n.target.value.replace(/[^\d.-]/g,"");"-"!==c&&"0-"!==c&&t(Object(m.a)({},a,{bonuses:Object(m.a)({},a.bonuses,Object(f.a)({},e,+c))}))}})))}))))))})),k={cleanBuffInited:function(e){return{type:"CLEAN_BUFF_INITED",payload:e}},smartFetchBuffs:d},R=Object(l.b)((function(e){return{buffs:e.buffs,currentBuff:e.currentBuff}}),k)((function(e){e.buffs;var a=e.currentBuff,t=e.cleanBuffInited,r=e.smartFetchBuffs;return Object(n.useEffect)((function(){r()}),[r]),c.a.createElement("div",{className:"page"},c.a.createElement("div",{className:"page__wrapper"},c.a.createElement("div",{className:"page__title"},c.a.createElement("div",null,"Buffs page")),c.a.createElement("div",{className:"page__section page__section--grower"},c.a.createElement(C,null)),a?c.a.createElement("div",{className:"page__section page__section--nopadding",style:{maxHeight:"250px"}},c.a.createElement(F,null)):c.a.createElement("div",{className:"page__section page__section--nopadding"},c.a.createElement("button",{className:"button button--success button--lg",onClick:t},c.a.createElement("i",{className:"fa fa-plus button__icon"})))))})),U=function(){return c.a.createElement("div",{className:"page"},c.a.createElement("div",{className:"page__wrapper"},c.a.createElement("div",{className:"page__title"},"d20organizer"),c.a.createElement("div",{className:"page__section"},c.a.createElement("div",{className:"home"},c.a.createElement("div",{className:"home__page-list"},c.a.createElement("div",{className:"home__page-item"},c.a.createElement(u.b,{className:"home__page-link",to:"/buffs"},"Calculator")),c.a.createElement("div",{className:"home__page-item"},c.a.createElement(u.b,{className:"home__page-link",to:"/buffs"},"Buff catalog")))))))},T=function(){return c.a.createElement("div",{className:"navbar"},c.a.createElement("div",{className:"navbar__list"},c.a.createElement(u.b,{to:"/calculator",className:"navbar__item",activeClassName:"navbar__item--active"},c.a.createElement("i",{className:"fa fa-calculator"})),c.a.createElement(u.b,{to:"/buffs",className:"navbar__item",activeClassName:"navbar__item--active"},c.a.createElement("i",{className:"fa fa-list"}))))},D=function(){return c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"app__header"}),c.a.createElement("div",{className:"app__body"},c.a.createElement("div",{className:"app__content"},c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/",component:U,exact:!0}),c.a.createElement(i.a,{path:"/calculator",component:N}),c.a.createElement(i.a,{path:"/buffs",component:R})))),c.a.createElement("div",{className:"app__footer"},c.a.createElement("div",{className:"app__navbar"},c.a.createElement(T,null))))},A=t(13),w=t(25),S=t(14),x=function(e,a){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n],a.forEach((function(e){e.bonuses&&e.bonuses[n]&&(t[n]+=e.bonuses[n])}))})),t},L=function(e,a){var t={};return Object.keys(a).forEach((function(n){t[n]=a[n]-e[n]})),t},P=function(e,a){var t=a.filter((function(a){return-1!==e.buffs.indexOf(a.code)}));return{stats:x(e.stats,t),delta:L(e.stats,x(e.stats,t))}},I={characters:[],buffs:{loaded:!1,data:[]},currentCharacter:{name:"Skyor",stats:{ac:31,attack:12,damage:3},buffs:[]},currentResult:{}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"BUFFS_LOADED":return Object(m.a)({},e,{buffs:Object(m.a)({},e.buffs,{data:a.payload,loaded:!0})});case"CURRENT_CHARACTER_UPDATED":return Object(m.a)({},e,{currentCharacter:a.payload,currentResult:P(a.payload,e.buffs.data)});case"CURRENT_CHARACTER_BUFF_TOGGLE":var t;return t=-1!==e.currentCharacter.buffs.indexOf(a.payload)?e.currentCharacter.buffs.filter((function(e){return e!==a.payload})):[].concat(Object(S.a)(e.currentCharacter.buffs),[a.payload]),Object(m.a)({},e,{currentCharacter:Object(m.a)({},e.currentCharacter,{buffs:t}),currentResult:P(Object(m.a)({},e.currentCharacter,{buffs:t}),e.buffs.data)});case"BUFF_DELETED":return Object(m.a)({},e,{buffs:Object(m.a)({},e.buffs,{data:e.buffs.data.filter((function(e){return e.code!==a.payload}))})});case"BUFF_SELECTED":return Object(m.a)({},e,{currentBuff:e.buffs.data.find((function(e){return e.code===a.payload}))});case"CURRENT_BUFF_UPDATED":return Object(m.a)({},e,{currentBuff:a.payload});case"CURRENT_BUFF_SAVED":var n=e.buffs.data.findIndex((function(e){return e.code===a.payload.code}));return Object(m.a)({},e,{buffs:Object(m.a)({},e.buffs,{data:[].concat(Object(S.a)(e.buffs.data.slice(0,n)),[a.payload],Object(S.a)(e.buffs.data.slice(n+1)))}),currentBuff:null});case"CLEAN_BUFF_INITED":return Object(m.a)({},e,{currentBuff:{name:"New buff",bonuses:{}}});case"CURRENT_BUFF_CREATED":return Object(m.a)({},e,{buffs:Object(m.a)({},e.buffs,{data:[].concat(Object(S.a)(e.buffs.data),[a.payload])}),currentBuff:null});default:return e}},H=Object(A.c)(G,Object(A.a)(w.a));s.a.render(c.a.createElement(l.a,{store:H},c.a.createElement(u.a,null,c.a.createElement(D,null))),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.3089ce03.chunk.js.map