{"version":3,"sources":["data/buffs.js","data/currentCharacter.js","utils/localStorage.js","utils/api.js","actions/index.js","utils/stringifyModifier.js","utils/propNames.js","components/core/multiselect/index.js","components/core/multiselect/multiselect.js","components/core/penned-string/index.js","components/core/penned-string/penned-string.js","components/pages/calculator-page.js","components/core/buff-list-item/index.js","components/core/buff-list-item/buff-list-item.js","components/core/buff-list/buff-list.js","components/core/buff-list/index.js","utils/omitKey.js","components/core/buff-form/buff-form.js","components/core/buff-form/index.js","components/pages/buffs-page.js","components/pages/home-page.js","components/core/navbar/index.js","components/core/navbar/navbar.js","components/app/index.js","components/app/app.js","reducers/buffs.js","reducers/current-buff.js","utils/calcBuffedStats.js","utils/calcStatsDelta.js","utils/calcResult.js","reducers/current-character.js","reducers/index.js","store.js","index.js"],"names":["buffCatalog","code","name","bonuses","ac","damage","attack","currentCharacter","stats","buffs","setLocalStorage","key","value","localStorage","setItem","JSON","stringify","getLocalStorage","parse","getItem","saveBuffsApi","params","Promise","resolve","reject","saveCurrentCharacterApi","currentCharacterLoaded","character","type","payload","fetchCurrentCharacter","dispatch","buffsRequested","data","then","error","buffsLoaded","newBuffs","fetchBuffs","smartFetchBuffs","getState","loaded","stringifyModifier","propNames","string","getter","Multiselect","items","selected","keyProp","nameGetter","descriptionGetter","onItemClick","className","map","item","iconClassList","indexOf","onClick","PennedString","onChange","mapDispatchToProps","currentCharacterUpdated","currentCharacterBuffToggle","buffCode","smartFetchCurrentCharacter","connect","currentResult","useEffect","handleStatChange","stat","event","target","replace","newCharacter","Object","keys","bonusClassList","result","delta","buff","filter","join","BuffListItem","onDelete","onEdit","propBonus","propMultiplier","multipliers","displayValue","statClassList","buffDeleted","buffSelected","BuffList","buffDeleteWrapper","buffData","buffEditWrapper","omitKey","obj","currentBuffUpdated","currentBuffSaved","currentBuffCreated","BuffForm","currentBuff","detectBuffPresent","prop","hasOwnProperty","detectBuffBonusPresent","multiplier","detectBuffMultiplierPresent","toLowerCase","itemClassList","toggleBonusProp","cleanBuffInited","style","HomePage","to","Navbar","activeClassName","App","path","component","exact","CalculatorPage","BuffsPage","updateBuffs","state","action","undefined","updatingIndex","findIndex","slice","updateCurrentBuff","find","calcBuffedStats","newStats","forEach","statKey","calcStatsDelta","oldStats","calcResult","updateCurrentCharacter","reducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ca7ffb19.chunk.js","sourcesContent":["const buffCatalog = [\n  {code: 'bigger', name: 'Bigger size', bonuses: {ac: -2, damage: 1}},\n  {code: 'rage', name: 'Rage', bonuses: {ac: -2, attack: 2, damage: 2}},\n  {code: 'fatigued', name: 'Fatigued', bonuses: {ac: -1, attack: -1, damage: -1}},\n  {code: 'stonestrike', name: 'Stone strike', bonuses: {attack: 1, damage: 1}},\n  {code: 'fightdefencively', name: 'Fighting defencively', bonuses: {ac: 2, attack: -4}},\n  {code: 'defencivestance', name: 'Defencive Stance', bonuses: {ac: 2, attack: 2, damage: 2}},\n]\n\nexport default buffCatalog;","const currentCharacter = {\n  name: 'Skyor',\n  stats: {\n    ac: 31,\n    attack: 12,\n    damage: 3\n  },\n  buffs: []\n}\n\nexport default currentCharacter;","const prefix = 'd20o_';\n\nexport const setLocalStorage = (key, value) => {\n  localStorage.setItem(prefix + key, JSON.stringify(value));\n}\n\nexport const getLocalStorage = (key) => {\n  return JSON.parse(localStorage.getItem(prefix + key));\n}\n","import { getLocalStorage, setLocalStorage } from './localStorage';\n\nexport const getBuffsApi = () => {\n  return new Promise((resolve, reject) => {\n    const data = getLocalStorage('buffs')\n    if(data) {\n      resolve(data);\n    } else {\n      reject(false)\n    }\n  });\n}\n\nexport const saveBuffsApi = (params) => {\n  return new Promise((resolve, reject) => {\n    setLocalStorage('buffs', params);\n\n    resolve(true);\n  });\n}\n\nexport const getCurrentCharacterApi = () => {\n  return new Promise((resolve, reject) => {\n    const data = getLocalStorage('current_character')\n    if(data) {\n      resolve(data);\n    } else {\n      reject(false)\n    }\n  });\n}\n\nexport const saveCurrentCharacterApi = (params) => {\n  return new Promise((resolve, reject) => {\n    setLocalStorage('current_character', params);\n\n    resolve(true);\n  });\n}\n","import buffCatalog from '../data/buffs';\nimport currentCharacter from '../data/currentCharacter';\nimport { getBuffsApi, getCurrentCharacterApi } from '../utils/api';\n\nconst currentCharacterLoaded = (character) => {\n\treturn {\n\t\ttype: 'CURRENT_CHARACTER_LOADED',\n\t\tpayload: character\n\t}\n}\n\nconst currentCharacterUpdated = (character) => {\n\treturn {\n\t\ttype: 'CURRENT_CHARACTER_UPDATED',\n\t\tpayload: character\n\t}\n}\n\nconst fetchCurrentCharacter= () => (dispatch) => {\n\tdispatch(buffsRequested());\n\n\tgetCurrentCharacterApi().then(\n\t\t(buffs) => dispatch(currentCharacterLoaded(buffs)),\n\t\t(error) => dispatch(currentCharacterLoaded(currentCharacter))\n\t);\n}\n\nconst smartFetchCurrentCharacter= () => (dispatch, getState) => {\n\tconst { currentCharacter: { loaded } } = getState();\n\n\tif(!loaded) dispatch(fetchCurrentCharacter());\n}\n\nconst currentCharacterBuffToggle = (buffCode) => {\n\treturn {\n\t\ttype: 'CURRENT_CHARACTER_BUFF_TOGGLE',\n\t\tpayload: buffCode\n\t}\n}\n\n\nconst buffsLoaded = (newBuffs) => {\n\treturn {\n\t\ttype: 'BUFFS_LOADED',\n\t\tpayload: newBuffs\n\t}\n}\n\nconst buffsRequested = (payload) => {\n\treturn {\n\t\ttype: 'BUFFS_REQUESTED',\n\t\tpayload: payload\n\t}\n}\n\nconst buffDeleted = (buffCode) => {\n\treturn {\n\t\ttype: 'BUFF_DELETED',\n\t\tpayload: buffCode\n\t}\n}\n\nconst buffSelected = (buffCode) => {\n\treturn {\n\t\ttype: 'BUFF_SELECTED',\n\t\tpayload: buffCode\n\t}\n}\n\nconst currentBuffUpdated = (buff) => {\n\treturn {\n\t\ttype: 'CURRENT_BUFF_UPDATED',\n\t\tpayload: buff\n\t}\n}\n\nconst currentBuffSaved = (buff) => {\n\treturn {\n\t\ttype: 'CURRENT_BUFF_SAVED',\n\t\tpayload: buff\n\t}\n}\n\nconst cleanBuffInited = (buff) => {\n\treturn {\n\t\ttype: 'CLEAN_BUFF_INITED',\n\t\tpayload: buff\n\t}\n}\n\nconst currentBuffCreated = (buff) => {\n\treturn {\n\t\ttype: 'CURRENT_BUFF_CREATED',\n\t\tpayload: buff\n\t}\n}\n\nconst fetchBuffs = () => (dispatch) => {\n\tdispatch(buffsRequested());\n\n\tgetBuffsApi().then(\n\t\t(buffs) => dispatch(buffsLoaded(buffs)),\n\t\t(error) => dispatch(buffsLoaded(buffCatalog))\n\t);\n}\n\nconst smartFetchBuffs = () => (dispatch, getState) => {\n\tconst { buffs: { loaded } } = getState();\n\n\tif(!loaded) dispatch(fetchBuffs());\n}\n\nexport {\n\tbuffsLoaded,\n\tcurrentCharacterUpdated,\n\tcurrentCharacterBuffToggle,\n\n\tbuffDeleted,\n\tbuffSelected,\n\tcurrentBuffUpdated,\n\tcurrentBuffSaved,\n\tcleanBuffInited,\n\tcurrentBuffCreated,\n\n\tfetchBuffs,\n\tsmartFetchBuffs,\n\tfetchCurrentCharacter,\n\tsmartFetchCurrentCharacter\n};","const stringifyModifier = (value) => {\n  return (value > 0 ? '+' : '') + value\n}\n\nexport default stringifyModifier;","import stringifyModifier from './stringifyModifier';\n\nconst propNames = {\n  attack: {\n    string: 'ATK',\n    getter: stringifyModifier\n  },\n  ac: {\n    string: 'AC',\n    getter: (value) => {\n      return value\n    }\n  },\n  damage: {\n    string: 'DMG',\n    getter: stringifyModifier\n  }\n};\n\nexport default propNames;","import Multiselect from './multiselect';\n\nexport default Multiselect;","import React from 'react';\n\nconst Multiselect = ({items, selected, keyProp = 'code', nameGetter, descriptionGetter, onItemClick}) => {\n  return (\n    <div className=\"multiselect\">\n      <div className=\"multiselect__wrapper\">\n        {\n          items.map((item) => {\n            const isSelected = selected.indexOf(item[keyProp]) !== -1;\n            const iconClassList = (\n              'fa ' + (isSelected ? 'fa-square' : 'fa-square-o')\n            )\n            const onClick = () => {\n              onItemClick(item);\n            }\n\n            return (\n              <div\n                className=\"multiselect__item {isSelected ? 'multiselect__item--selected' : ''}\"\n                onClick={onClick}\n                key={item[keyProp]}\n                >\n                <div className=\"multiselect__item-icon\">\n                  <i \n                    className={iconClassList}></i>\n                </div>\n                <div className=\"multiselect__item-name\">\n                  { nameGetter(item) }\n                </div>\n                <div className=\"multiselect__item-description\">\n                  { descriptionGetter(item) }\n                </div>\n              </div>\n            )\n          })\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Multiselect;","import PennedString from './penned-string';\n\nexport default PennedString;","import React from 'react';\n\nconst PennedString = ({value, onChange}) => {\n\n  return (\n    <div className=\"penned-string\">\n      <label className=\"penned-string__wrapper\">\n        <input\n          type=\"text\"\n          className=\"penned-string__input\"\n          value={value}\n          onChange={onChange}\n          />\n        <div className=\"penned-string__text\">\n          {value}\n          <i className=\"fa fa-pencil\"></i>\n        </div>\n      </label>\n    </div>\n  )\n}\n\nexport default PennedString;","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  currentCharacterUpdated,\n  currentCharacterBuffToggle,\n  smartFetchBuffs,\n  smartFetchCurrentCharacter\n  } from '../../actions';\n\nimport propNames from '../../utils/propNames';\n\nimport Multiselect from '../core/multiselect';\nimport PennedString from '../core/penned-string';\n\nconst CalculatorPage = ({ \n  buffs,\n  currentCharacter,\n  currentResult,\n  currentCharacterUpdated,\n  currentCharacterBuffToggle,\n  smartFetchBuffs,\n  smartFetchCurrentCharacter\n}) => {\n\n  useEffect(() => {\n    smartFetchBuffs();\n    smartFetchCurrentCharacter();\n  }, [smartFetchBuffs, smartFetchCurrentCharacter])\n\n  const buffNameGetter = (buff) => {\n    return buff.name;\n  }\n\n  const buffDescriptionGetter = (buff) => {\n   return Object.keys(buff.bonuses)\n    .filter((key) => buff.bonuses[key])\n    .map((key) => {\n      return propNames[key].string + ': ' + propNames[key].getter(buff.bonuses[key])\n    }).join(', ');\n  }\n\n  const handleStatChange = (stat) => {\n    return (event) => {\n      let value = event.target.value.replace(/[^\\d.-]/g, '');\n\n      if(value === '-' || value === '0-') return;\n\n      let newCharacter = {\n        ...currentCharacter.data,\n        stats: {\n          ...currentCharacter.data.stats,\n          [stat]: +value\n        }\n      }\n\n      currentCharacterUpdated(newCharacter)\n    }\n  }\n\n  const onNameChange = (event) => {\n    let value = event.target.value;\n    \n    currentCharacterUpdated({\n      ...currentCharacter.data,\n      name: value\n    })\n  }\n\n  const buffToggle = (buff) => {\n    currentCharacterBuffToggle(buff.code)\n  }\n\n  return (\n    <div className=\"page\">\n      <div className=\"page__wrapper\">\n        <div className=\"page__title\">\n          Calculator\n        </div>\n        <div className=\"page__section\">\n          {\n            currentCharacter.loaded ? (\n              <div className=\"charedit\">\n                <div className=\"charedit__title\">\n                  <PennedString \n                    value={ currentCharacter.data.name }\n                    onChange={onNameChange}\n                  />\n                </div>\n                <div className=\"charedit__stats\">\n                  {\n                    Object.keys(currentCharacter.data.stats).map((stat) => {\n                      let bonusClassList = 'charedit__stats-bonus ';\n                      if(currentCharacter.result && currentCharacter.result.delta) {\n                        if(currentCharacter.result.delta[stat] > 0) {\n                          bonusClassList += 'charedit__stats-bonus--positive';\n                        } else if(currentCharacter.result.delta[stat] < 0) {\n                          bonusClassList += 'charedit__stats-bonus--negative';\n                        }\n                      }\n\n                      return (\n                        <div className=\"charedit__stats-item\" key={stat}>\n                          <div className=\"charedit__stats-label\">\n                            { propNames[stat].string }:\n                          </div>\n                          <div className=\"charedit__stats-content\">\n                            <div className=\"charedit__stats-rawval\">\n                              <input\n                                value={currentCharacter.data.stats[stat]}\n                                onChange={handleStatChange(stat)}\n                                type=\"text\" />\n                            </div>\n                            {\n                              (currentCharacter.result && currentCharacter.result.delta) ? (\n                                <div className={bonusClassList}>\n                                  { currentCharacter.result.delta ? propNames[stat].getter(currentCharacter.result.delta[stat]) : '' }\n                                </div>\n                              ) : null\n                            }\n                            {\n                              (currentCharacter.result && currentCharacter.result.stats) ? (\n                                <div className=\"charedit__stats-result\">\n                                  { currentCharacter.result.stats ? propNames[stat].getter(currentCharacter.result.stats[stat]) : '' }\n                                </div>\n                              ) : null\n                            }\n                          </div>\n                          </div>\n                      )\n                    })\n                  }\n                </div>\n              </div>\n            ) : null\n          }\n        </div>\n        <div className=\"page__section page__section--grower page__section--nopadding\">\n          {\n            (currentCharacter.loaded && buffs.loaded) ? (\n              <Multiselect \n                items={buffs.data}\n                selected={currentCharacter.data.buffs}\n                keyProp=\"code\"\n                nameGetter={buffNameGetter}\n                descriptionGetter={buffDescriptionGetter}\n                onItemClick={buffToggle}\n                />\n            ) : null\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ buffs, currentCharacter }) => {\n  return {\n    buffs,\n    currentCharacter\n  }\n}\n\nconst mapDispatchToProps = {\n  currentCharacterUpdated,\n  currentCharacterBuffToggle,\n  smartFetchBuffs,\n  smartFetchCurrentCharacter\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CalculatorPage);","import BuffListItem from './buff-list-item';\n\nexport default BuffListItem;","import React from 'react';\n\nimport propNames from '../../../utils/propNames';\nimport stringifyModifier from '../../../utils/stringifyModifier';\n\nconst BuffListItem = ({buff, onDelete, onEdit}) => {\n\n  const onDeleteWrapper = () => {\n    onDelete(buff);\n  }\n  const onEditWrapper = () => {\n    onEdit(buff);\n  }\n\n  return (\n    <div className=\"buff-item\">\n      <div className=\"buff-item__wrapper\">\n        <div className=\"buff-item__header\">\n          <div className=\"buff-item__title\">\n            { buff.name }\n          </div>\n          <div className=\"buff-item__actions\">\n            <div\n              className=\"buff-item__action buff-item__action--delete\"\n              onClick={onDeleteWrapper}\n              >\n              <i className=\"fa fa-trash\"></i>\n            </div>\n            <div\n              className=\"buff-item__action buff-item__action--edit\"\n              onClick={onEditWrapper}\n              >\n              <i className=\"fa fa-pencil\"></i>\n            </div>\n          </div>\n        </div>\n        <div className=\"buff-item__content\">\n          <div className=\"buff-item__stat-list\">\n            {\n              Object.keys(propNames).map((key) => {\n\n                const propBonus = buff.bonuses ? buff.bonuses[key] : null;\n                const propMultiplier = buff.multipliers ? buff.multipliers[key] : null;\n                const displayValue = (\n                  propBonus ? stringifyModifier(propBonus) : false\n                ) || (\n                  propMultiplier ? propMultiplier : false\n                ) || null;\n\n                let statClassList = 'buff-item__stat ';\n                if(propBonus > 0 || propMultiplier > 1) {\n                  statClassList += 'buff-item__stat--positive';\n                } else if(propBonus < 0 || (propMultiplier > 0 && propMultiplier < 1)) {\n                  statClassList += 'buff-item__stat--negative';\n                }\n\n                return (\n                  propBonus || propMultiplier\n                ) ? (\n                  <div className={ statClassList } key={ key }>\n                    <div className=\"buff-item__stat-label\">\n                      { propNames[key].string }:\n                    </div>\n                    <div className=\"buff-item__stat-value\">\n                      { displayValue ? displayValue : null }\n                    </div>\n                  </div>\n                ) : null\n              })\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default BuffListItem;","import React from 'react';\nimport BuffListItem from '../buff-list-item';\nimport { connect } from 'react-redux';\n\nimport { buffDeleted, buffSelected } from '../../../actions';\n\nconst BuffList = ({buffs, buffDeleted, buffSelected}) => {\n\n  const buffDeleteWrapper = (buffData) => {\n    buffDeleted(buffData.code)\n  }\n\n  const buffEditWrapper = (buffData) => {\n    buffSelected(buffData.code)\n  }\n\n  return (\n    <div>\n      {\n        buffs.data.map((buff) => {\n          return (\n            <BuffListItem\n              key={buff.name}\n              buff={buff}\n              onDelete={buffDeleteWrapper}\n              onEdit={buffEditWrapper}\n              />\n          )\n        })\n      }\n    </div>\n  )\n}\n\nconst mapStateToProps = ({ buffs }) => {\n  return {\n    buffs\n  }\n}\n\nconst mapDispatchToProps = {\n  buffDeleted,\n  buffSelected\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuffList);","import BuffList from './buff-list';\n\nexport default BuffList;","const omitKey = (obj, key) => {\n  const { [key]: omitted, ...rest } = obj;\n  return rest;\n}\n\nexport default omitKey;","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { currentBuffUpdated, currentBuffSaved, currentBuffCreated } from '../../../actions';\n\nimport propNames from '../../../utils/propNames';\nimport omitKey from '../../../utils/omitKey';\n\nimport PennedString from '../penned-string/';\n\nconst BuffForm = ({buff, currentBuffUpdated, currentBuffSaved, currentBuffCreated}) => {\n\n  const toggleBonusProp = (prop) => {\n    if(buff.bonuses.hasOwnProperty(prop)) {\n      currentBuffUpdated({\n        ...buff,\n        bonuses: omitKey(buff.bonuses, prop)\n      })\n    } else {\n      currentBuffUpdated({\n        ...buff,\n        bonuses: {\n          ...buff.bonuses,\n          [prop]: 0\n        }\n      })\n    }\n  }\n\n  const closeForm = () => {\n    currentBuffUpdated(null);\n  }\n\n  const save = () => {\n    if(buff.code) {\n      currentBuffSaved(buff);\n    } else {\n      currentBuffCreated({\n        ...buff,\n        code: buff.name.replace(' ', '_').toLowerCase()\n      })\n    }\n  }\n\n  const detectBuffBonusPresent = (prop) => {\n    return buff.bonuses && buff.bonuses.hasOwnProperty(prop);\n  }\n  const detectBuffMultiplierPresent = (prop) => {\n    return buff.multiplier && buff.multiplier.hasOwnProperty(prop);\n  }\n  const detectBuffPresent = (prop, type) => {\n    if(type === 'bonus') {\n      return detectBuffBonusPresent(prop);\n    } else if(type === 'multiplier') {\n      return detectBuffMultiplierPresent(prop);\n    } else {\n      return false;\n    }\n  }\n\n  const onNameChange = (event) => {\n    let value = event.target.value;\n    \n    currentBuffUpdated({\n      ...buff,\n      name: value\n    })\n  }\n\n  return (\n    <div className=\"buff-form\">\n      <div className=\"buff-form__wrapper\">\n        <div className=\"buff-form__header\">\n          <div className=\"buff-form__title\">\n            <PennedString\n              value={buff.name}\n              onChange={onNameChange}\n            />\n          </div>\n          <div className=\"buff-form__actions\">\n            <div\n              className=\"buff-form__action buff-form__action--cancel\"\n              onClick={closeForm}\n              >\n              <i className=\"fa fa-close\"></i>\n            </div>\n            <div\n              className=\"buff-form__action buff-form__action--save\"\n              onClick={save}\n              >\n              <i className=\"fa fa-save\"></i>\n            </div>\n          </div>\n        </div>\n        <div className=\"buff-form__content\">\n          <div className=\"buff-form__subtitle\">\n            Plain bonuses\n          </div>\n          <div className=\"buff-form__props\">\n            <div className=\"chips\">\n              <div className=\"chips__list\">\n                {\n                  Object.keys(propNames).map((prop) => {\n                    const itemClassList = 'chips__item ' + (\n                      detectBuffPresent(prop, 'bonus') ? 'chips__item--active' : ''\n                    )\n                    return (\n                      <div\n                        className={ itemClassList }\n                        key={prop}\n                        onClick={ () => toggleBonusProp(prop) }>\n                        { propNames[prop].string }\n                      </div>\n                    )\n                  })\n                }\n              </div>\n            </div>\n          </div>\n          <div className=\"buff-form__field-list\">\n            {\n              Object.keys(propNames)\n                .filter((prop) => buff.bonuses.hasOwnProperty(prop))\n                .map((prop) => {\n\n                  const onPropChange = (event) => {\n                    let value = event.target.value.replace(/[^\\d.-]/g, '');\n\n                    if(value === '-' || value === '0-') return;\n                    \n                    currentBuffUpdated({\n                      ...buff,\n                      bonuses: {\n                        ...buff.bonuses,\n                        [prop]: +value\n                      }\n                    })\n                  }\n\n                  return (\n                    <div className=\"buff-form__field-item\" key={prop}>\n                      <div className=\"buff-form__field-label\">\n                        { propNames[prop].string }:\n                      </div>\n                      <div className=\"buff-form__field-content\">\n                        <input\n                          type=\"text\"\n                          className=\"buff-form__field-input\"\n                          value={buff.bonuses[prop]}\n                          onChange={onPropChange}\n                          />\n                      </div>\n                    </div>\n                  )\n                })\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = ({ currentBuff }) => {\n  return {\n    buff: currentBuff\n  }\n}\n\nconst mapDispatchToProps = {\n  currentBuffUpdated,\n  currentBuffSaved,\n  currentBuffCreated\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuffForm);","import BuffForm from './buff-form';\n\nexport default BuffForm;","import React, { useEffect } from 'react';\nimport BuffList from '../core/buff-list';\nimport BuffForm from '../core/buff-form';\n\nimport { cleanBuffInited, smartFetchBuffs } from '../../actions';\n\nimport { connect } from 'react-redux';\n\nconst BuffsPage = ({ buffs, currentBuff, cleanBuffInited, smartFetchBuffs }) => {\n\n  useEffect(() => {\n    smartFetchBuffs()\n  }, [smartFetchBuffs])\n\n  return (\n    <div className=\"page\">\n      <div className=\"page__wrapper\">\n        <div className=\"page__title\">\n          <div>Buffs page</div>\n        </div>\n        <div className=\"page__section page__section--grower\">\n          <BuffList />\n        </div>\n        {\n          currentBuff ? (\n            <div className=\"page__section page__section--nopadding\" style={{'maxHeight': '250px'}}>\n              <BuffForm />\n            </div>\n          ) : (\n            <div className=\"page__section page__section--nopadding\">\n              <button \n                className=\"button button--success button--lg\"\n                onClick={cleanBuffInited}\n                >\n                <i className=\"fa fa-plus button__icon\"></i>\n              </button>\n            </div>\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ buffs, currentBuff }) => {\n  return {\n    buffs,\n    currentBuff\n  }\n}\n\nconst mapDispatchToProps = {\n  cleanBuffInited,\n  smartFetchBuffs\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuffsPage);","import React from 'react';\n\nimport { NavLink } from 'react-router-dom';\n\nconst HomePage = () => {\n  return (\n    <div className=\"page\">\n      <div className=\"page__wrapper\">\n        <div className=\"page__title\">\n          d20organizer\n        </div>\n        <div className=\"page__section\">\n          <div className=\"home\">\n            <div className=\"home__page-list\">\n              <div className=\"home__page-item\">\n                <NavLink\n                  className=\"home__page-link\"\n                  to=\"/buffs\"\n                >\n                  Calculator\n                </NavLink>\n              </div>\n              <div className=\"home__page-item\">\n                <NavLink\n                  className=\"home__page-link\"\n                  to=\"/buffs\"\n                >\n                  Buff catalog\n                </NavLink>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default HomePage;","import Navbar from './navbar';\n\nexport default Navbar;","import React from 'react';\n\nimport { NavLink } from 'react-router-dom';\n\nconst Navbar = () => {\n  return (\n    <div className=\"navbar\">\n      <div className=\"navbar__list\">\n        <NavLink\n          to=\"/calculator\"\n          className=\"navbar__item\"\n          activeClassName=\"navbar__item--active\"\n          >\n          <i className=\"fa fa-calculator\"></i>\n        </NavLink>\n        <NavLink\n          to=\"/buffs\"\n          className=\"navbar__item\"\n          activeClassName=\"navbar__item--active\"\n          >\n          <i className=\"fa fa-list\"></i>\n        </NavLink>\n      </div>\n    </div>\n  )\n}\n\nexport default Navbar;","import App from './app';\n\nexport default App;","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { HomePage, CalculatorPage, BuffsPage } from '../pages';\nimport Navbar from '../core/navbar';\n\nconst App = () => {\n  return (\n    <div className=\"app\">\n      <div className=\"app__header\">\n      </div>\n      <div className=\"app__body\">\n        <div className=\"app__content\">\n          <Switch>\n            <Route \n              path='/'\n              component={HomePage}\n              exact\n            />\n            <Route \n              path='/calculator'\n              component={CalculatorPage}\n            />\n            <Route \n              path='/buffs'\n              component={BuffsPage}\n            />\n          </Switch>\n        </div>\n      </div>\n      <div className=\"app__footer\">\n        <div className=\"app__navbar\">\n           <Navbar />\n        </div>\n      </div>\n    </div>\n  )\n};\n\nexport default App;","import { saveBuffsApi } from '../utils/api';\n\nconst updateBuffs = (state, action) => {\n\n  if(state === undefined) {\n    return {\n      loaded: false,\n      data: []\n    }\n  }\n\n  switch (action.type) {\n    case 'BUFFS_LOADED': {\n      return {\n        ...state.buffs,\n        data: action.payload,\n        loaded: true\n      }\n    }\n\n    case 'BUFF_DELETED': {\n      const data = state.buffs.data.filter((buff) => buff.code !== action.payload);\n      saveBuffsApi(data).then();\n\n      return {\n        ...state.buffs,\n        data\n      }\n    }\n\n    case 'CURRENT_BUFF_SAVED': {\n      const updatingIndex = state.buffs.data.findIndex((buff) => buff.code === action.payload.code);\n      const data = [\n        ...state.buffs.data.slice(0, updatingIndex),\n        action.payload,\n        ...state.buffs.data.slice(updatingIndex + 1)\n      ];\n\n      saveBuffsApi(data).then();\n\n      return {\n        ...state.buffs,\n        data\n      }\n    }\n\n    case 'CURRENT_BUFF_CREATED': {\n      const data = [...state.buffs.data, action.payload];\n\n      saveBuffsApi(data).then();\n\n      return {\n        ...state.buffs,\n        data\n      }\n    }\n\n    default: {\n      return state.buffs;\n    }\n  }\n}\n\nexport default updateBuffs;","const createCleanBuff = () => {\n  return {\n    name: 'New buff', bonuses: {}\n  }\n}\n\nconst updateCurrentBuff = (state, action) => {\n\n  if(state === undefined) {\n    return null\n  }\n\n  switch (action.type) {\n\n    case 'BUFF_SELECTED': {\n      return state.buffs.data.find((buff) => buff.code === action.payload)\n    }\n    case 'CURRENT_BUFF_UPDATED': {\n      return action.payload\n    }\n\n    case 'CURRENT_BUFF_SAVED': {\n      return null\n    }\n\n    case 'CLEAN_BUFF_INITED': {\n      return createCleanBuff()\n    }\n\n    case 'CURRENT_BUFF_CREATED': {\n      return null\n    }\n\n    default: {\n      return state.currentBuff\n    }\n  }\n}\n\nexport default updateCurrentBuff;\n","const calcBuffedStats = (stats, buffs) => {\n  let newStats = {};\n\n  Object.keys(stats).forEach((statKey) => {\n    newStats[statKey] = stats[statKey];\n\n    buffs.forEach((buff) => {\n      if(buff.bonuses && buff.bonuses[statKey]) {\n        newStats[statKey] += buff.bonuses[statKey];\n      }\n    })\n  })\n  return newStats;\n}\n\nexport default calcBuffedStats;","const calcStatsDelta = (oldStats, newStats) => {\n  let delta = {};\n\n  Object.keys(newStats).forEach((key) => {\n    delta[key] = newStats[key] - oldStats[key];\n  })\n\n  return delta;\n}\n\nexport default calcStatsDelta;","import calcBuffedStats from './calcBuffedStats';\nimport calcStatsDelta from './calcStatsDelta';\n\nconst calcResult = (character, buffs) => {\n  const buffData = buffs.filter((buff) => character.buffs.indexOf(buff.code) !== -1);\n\n  return {\n    stats: calcBuffedStats(character.stats, buffData),\n    delta: calcStatsDelta(character.stats, calcBuffedStats(character.stats, buffData))\n  }\n}\n\nexport default calcResult;","import calcResult from '../utils/calcResult';\nimport { saveCurrentCharacterApi } from '../utils/api';\n\nconst updateCurrentCharacter = (state, action) => {\n\n  if (state === undefined) {\n    return {\n      loaded: false,\n      data: null,\n      result: null\n    };\n  }\n\n  switch (action.type) {\n    case 'CURRENT_CHARACTER_LOADED': {\n      return {\n        data: action.payload,\n        result: calcResult(action.payload, state.buffs.data),\n        loaded: true\n      };\n    }\n\n    case 'CURRENT_CHARACTER_UPDATED': {\n      const data = action.payload;\n      saveCurrentCharacterApi(data).then();\n\n      return {\n        ...state.currentCharacter,\n        data: data,\n        result: calcResult(action.payload, state.buffs.data)\n      };\n    }\n\n    case 'CURRENT_CHARACTER_BUFF_TOGGLE': {\n      let buffs;\n      if(state.currentCharacter.data.buffs.indexOf(action.payload) !== -1) {\n        buffs = state.currentCharacter.data.buffs.filter((buff) => buff !== action.payload);\n      } else {\n        buffs = [...state.currentCharacter.data.buffs, action.payload];\n      }\n\n      const data = {\n        ...state.currentCharacter.data,\n        buffs\n      };\n      saveCurrentCharacterApi(data).then();\n\n      return {\n        ...state.currentCharacter,\n        data,\n        result: calcResult(data, state.buffs.data)\n      }\n    }\n\n    default: {\n      return state.currentCharacter\n    }\n  }\n}\n\nexport default updateCurrentCharacter;\n","import updateBuffs from './buffs';\nimport updateCurrentBuff from './current-buff';\nimport updateCurrentCharacter from './current-character';\n\nconst reducer = (state, action) => {\n  return {\n    buffs: updateBuffs(state, action),\n    currentBuff: updateCurrentBuff(state, action),\n    currentCharacter: updateCurrentCharacter(state, action)\n  }\n};\n\nexport default reducer;","import { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\n\nimport reducer from './reducers';\n\nconst store = createStore(reducer, applyMiddleware(thunkMiddleware));\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'font-awesome/css/font-awesome.min.css';\nimport './styles/styles.scss';\n\nimport App from './components/app';\n\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}