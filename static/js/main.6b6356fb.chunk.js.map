{"version":3,"sources":["utils/propNames.js","components/core/multiselect/index.js","components/core/multiselect/multiselect.js","components/pages/calculator-page.js","actions/index.js","components/core/buff-list-item/index.js","components/core/buff-list-item/buff-list-item.js","components/core/buff-list/index.js","components/core/buff-list/buff-list.js","components/pages/buffs-page.js","components/app/index.js","components/app/app.js","utils/calcBuffedStats.js","utils/calcStatsDelta.js","reducers/index.js","store.js","index.js"],"names":["propNames","attack","string","getter","value","ac","damage","Multiselect","items","selected","keyProp","nameGetter","descriptionGetter","onItemClick","className","map","item","iconClassList","indexOf","onClick","key","mapDispatchToProps","currentCharacterUpdated","character","type","payload","currentCharacterBuffToggle","buffCode","connect","buffs","currentCharacter","currentResult","handleStatChange","stat","event","target","replace","newCharacter","stats","name","Object","keys","bonusClassList","delta","onChange","buff","bonuses","filter","join","code","BuffListItem","BuffList","BuffsPage","App","path","process","component","CalculatorPage","exact","calcBuffedStats","newStats","forEach","statKey","calcStatsDelta","oldStats","calcResult","buffData","initialState","reducer","state","action","books","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6b6356fb.chunk.js","sourcesContent":["const propNames = {\n  attack: {\n    string: 'ATK',\n    getter: (value) => {\n      return (\n        (value > 0 ? '+' : '') + value\n      )\n    }\n  },\n  ac: {\n    string: 'AC',\n    getter: (value) => {\n      return value\n    }\n  },\n  damage: {\n    string: 'DMG',\n    getter: (value) => {\n      return (\n        (value > 0 ? '+' : '') + value\n      )\n    }\n  }\n};\n\nexport default propNames;","import Multiselect from './multiselect';\n\nexport default Multiselect;","import React from 'react';\n\nconst Multiselect = ({items, selected, keyProp = 'code', nameGetter, descriptionGetter, onItemClick}) => {\n  return (\n    <div className=\"multiselect\">\n      <div className=\"multiselect__wrapper\">\n        {\n          items.map((item) => {\n            const isSelected = selected.indexOf(item[keyProp]) !== -1;\n            const iconClassList = (\n              'fa ' + (isSelected ? 'fa-square' : 'fa-square-o')\n            )\n            const onClick = () => {\n              onItemClick(item);\n            }\n\n            return (\n              <div\n                className=\"multiselect__item {isSelected ? 'multiselect__item--selected' : ''}\"\n                onClick={onClick}\n                key={item[keyProp]}\n                >\n                <div className=\"multiselect__item-icon\">\n                  <i \n                    className={iconClassList}></i>\n                </div>\n                <div className=\"multiselect__item-name\">\n                  { nameGetter(item) }\n                </div>\n                <div className=\"multiselect__item-description\">\n                  { descriptionGetter(item) }\n                </div>\n              </div>\n            )\n          })\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Multiselect;","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { currentCharacterUpdated, currentCharacterBuffToggle } from '../../actions';\n\nimport propNames from '../../utils/propNames';\n\nimport Multiselect from '../core/multiselect';\n\nconst CalculatorPage = ({ buffs, currentCharacter, currentResult, currentCharacterUpdated, currentCharacterBuffToggle }) => {\n\n  const buffNameGetter = (buff) => {\n    return buff.name;\n  }\n\n  const buffDescriptionGetter = (buff) => {\n   return Object.keys(buff.bonuses)\n    .filter((key) => buff.bonuses[key])\n    .map((key) => {\n      return propNames[key].string + ': ' + propNames[key].getter(buff.bonuses[key])\n    }).join(', ');\n  }\n\n  const handleStatChange = (stat) => {\n    return (event) => {\n      let value = event.target.value.replace(/[^\\d.-]/g, '');\n\n      if(value === '-' || value === '0-') return;\n\n      let newCharacter = {\n        ...currentCharacter,\n        stats: {\n          ...currentCharacter.stats,\n          [stat]: +value\n        }\n      }\n\n      currentCharacterUpdated(newCharacter)\n    }\n  }\n\n  const buffToggle = (buff) => {\n    currentCharacterBuffToggle(buff.code)\n  }\n\n  return (\n    <div>\n      <div className=\"charedit\">\n        <div className=\"charedit__title\">\n          { currentCharacter.name }\n        </div>\n        <div className=\"charedit__stats\">\n          {\n            Object.keys(currentCharacter.stats).map((stat) => {\n              let bonusClassList = 'charedit__stats-bonus ';\n              if(currentResult && currentResult.delta) {\n                if(currentResult.delta[stat] > 0) {\n                  bonusClassList += 'charedit__stats-bonus--positive';\n                } else if(currentResult.delta[stat] < 0) {\n                  bonusClassList += 'charedit__stats-bonus--negative';\n                }\n              }\n\n              return (\n                <div className=\"charedit__stats-item\" key={stat}>\n                  <div className=\"charedit__stats-label\">\n                    { propNames[stat].string }:\n                  </div>\n                  <div className=\"charedit__stats-content\">\n                    <div className=\"charedit__stats-rawval\">\n                      <input\n                        value={currentCharacter.stats[stat]}\n                        onChange={handleStatChange(stat)}\n                        type=\"text\" />\n                    </div>\n                    {\n                      currentResult.delta &&\n                      <div className={bonusClassList}>\n                        { currentResult.delta ? propNames[stat].getter(currentResult.delta[stat]) : '' }\n                      </div>\n                    }\n                    <div className=\"charedit__stats-result\">\n                      { currentResult.stats ? propNames[stat].getter(currentResult.stats[stat]) : '' }\n                    </div>\n                  </div>\n                  </div>\n              )\n            })\n          }\n        </div>\n      </div>\n      <div>\n        <Multiselect \n          items={buffs}\n          selected={currentCharacter.buffs}\n          keyProp=\"code\"\n          nameGetter={buffNameGetter}\n          descriptionGetter={buffDescriptionGetter}\n          onItemClick={buffToggle}\n          />\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ buffs, currentCharacter, currentResult }) => {\n  return {\n    buffs,\n    currentCharacter,\n    currentResult\n  }\n}\n\nconst mapDispatchToProps = {\n  currentCharacterUpdated,\n  currentCharacterBuffToggle\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CalculatorPage);","\nconst buffsLoaded = (newBuffs) => {\n\treturn {\n\t\ttype: 'BUFFS_LOADED',\n\t\tpayload: newBuffs\n\t}\n}\n\nconst currentCharacterUpdated = (character) => {\n\treturn {\n\t\ttype: 'CURRENT_CHARACTER_UPDATED',\n\t\tpayload: character\n\t}\n}\n\nconst currentCharacterBuffToggle = (buffCode) => {\n\treturn {\n\t\ttype: 'CURRENT_CHARACTER_BUFF_TOGGLE',\n\t\tpayload: buffCode\n\t}\n}\n\nexport {\n\tbuffsLoaded,\n\tcurrentCharacterUpdated,\n\tcurrentCharacterBuffToggle\n};","import BuffListItem from './buff-list-item';\n\nexport default BuffListItem;","import React from 'react';\n\nconst BuffListItem = ({buff}) => {\n\treturn (\n\t\t<div>\n\t\t\t<h3>{ buff.name }</h3>\n\t\t\t<div>\n\t\t\t\tATK: <strong>{ buff.bonuses.attack }</strong>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tDMG: { buff.bonuses.damage }\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tAC: { buff.bonuses.ac }\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default BuffListItem;","import BuffList from './buff-list';\n\nexport default BuffList;","import React from 'react';\nimport BuffListItem from '../buff-list-item';\nimport { connect } from 'react-redux';\n\nimport './buff-list.css';\n\nconst BuffList = ({buffs}) => {\n  return (\n    <div>\n      {\n        buffs.map((buff) => {\n          return (\n            <BuffListItem key={buff.name} buff={buff}/>\n          )\n        })\n      }\n    </div>\n  )\n}\n\nconst mapStateToProps = ({ buffs }) => {\n  return {\n    buffs\n  }\n}\n\nexport default connect(mapStateToProps)(BuffList);","import React from 'react';\nimport BuffList from '../core/buff-list';\n\nconst BuffsPage = () => {\n\n\treturn (\n\t\t<div>\n\t\t\t<div>Buffs page</div>\n\t\t\t<BuffList />\n\t\t</div>\n\t);\n}\n\nexport default BuffsPage;","import App from './app';\n\nexport default App;","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { CalculatorPage, BuffsPage } from '../pages';\nimport './app.css';\n\nconst App = () => {\n  return (\n    <Switch>\n      <Route \n        path={process.env.PUBLIC_URL + '/'}\n        component={CalculatorPage}\n        exact\n      />\n      <Route \n        path={process.env.PUBLIC_URL + '/buffs'}\n        component={BuffsPage}\n      />\n    </Switch>\n  )\n};\n\nexport default App;","const calcBuffedStats = (stats, buffs) => {\n  let newStats = {};\n\n  Object.keys(stats).forEach((statKey) => {\n    newStats[statKey] = stats[statKey];\n\n    buffs.forEach((buff) => {\n      if(buff.bonuses && buff.bonuses[statKey]) {\n        newStats[statKey] += buff.bonuses[statKey];\n      }\n    })\n  })\n  return newStats;\n}\n\nexport default calcBuffedStats;","const calcStatsDelta = (oldStats, newStats) => {\n  let delta = {};\n\n  Object.keys(newStats).forEach((key) => {\n    delta[key] = newStats[key] - oldStats[key];\n  })\n\n  return delta;\n}\n\nexport default calcStatsDelta;","import calcBuffedStats from '../utils/calcBuffedStats';\nimport calcStatsDelta from '../utils/calcStatsDelta';\n\nconst calcResult = (character, buffs) => {\n  const buffData = buffs.filter((buff) => character.buffs.indexOf(buff.code) !== -1);\n\n  return {\n    stats: calcBuffedStats(character.stats, buffData),\n    delta: calcStatsDelta(character.stats, calcBuffedStats(character.stats, buffData))\n  }\n}\n\nconst initialState = {\n  buffs: [\n    {code: 'bigger', name: 'Bigger size', bonuses: {ac: -2, attack: 0, damage: 1}},\n    {code: 'rage', name: 'Rage', bonuses: {ac: -2, attack: 2, damage: 2}},\n    {code: 'fatigued', name: 'Fatigued', bonuses: {ac: -1, attack: 1, damage: 1}},\n    {code: 'stonestrike', name: 'Stone strike', bonuses: {attack: 1, damage: 1}},\n    {code: 'fightdefencively', name: 'Fighting defencively', bonuses: {ac: 2, attack: -4}},\n    {code: 'defencivestance', name: 'Defencive Stance', bonuses: {ac: 2, attack: 2, damage: 2}},\n  ],\n  currentCharacter: {\n    name: 'Skyor',\n    stats: {\n      ac: 31,\n      attack: 12,\n      damage: 3\n    },\n    buffs: []\n  },\n  currentResult: {\n\n  }\n};\n\nconst reducer = (state = initialState, action) => {\n\n  switch (action.type) {\n    case 'BUFFS_LOADED':\n      return {\n        ...state,\n        books: action.payload\n      };\n\n    case 'CURRENT_CHARACTER_UPDATED':\n      return {\n        ...state,\n        currentCharacter: action.payload,\n        currentResult: calcResult(action.payload, state.buffs)\n      };\n\n    case 'CURRENT_CHARACTER_BUFF_TOGGLE':\n      let buffs;\n      if(state.currentCharacter.buffs.indexOf(action.payload) !== -1) {\n        buffs = state.currentCharacter.buffs.filter((buff) => buff !== action.payload);\n      } else {\n        buffs = [...state.currentCharacter.buffs, action.payload];\n      }\n      return {\n        ...state,\n        currentCharacter: {\n          ...state.currentCharacter,\n          buffs\n        },\n        currentResult: calcResult({...state.currentCharacter, buffs}, state.buffs)\n      }\n\n    default:\n      return state;\n  }\n\n  return state;\n};\n\nexport default reducer;","import { createStore } from 'redux';\n\nimport reducer from './reducers';\n\nconst store = createStore(reducer);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport 'font-awesome/css/font-awesome.min.css';\nimport './styles/styles.css';\n\nimport App from './components/app';\n\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}